<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mariejoe AR Item</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: #000000;
      color: #f5f5f5;
    }

    .back-link {
      padding: 1rem;
    }

    .back-link a {
      color: #00aaff;
      text-decoration: none;
    }

    .back-link a:hover {
      text-decoration: underline;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }

    .card {
      background-color: #0a0a0a;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.05);
    }

    model-viewer {
      width: 100%;
      height: 400px;
      background-color: #000000;
      border-radius: 0.5rem;
    }

    .dimensions {
      margin-top: 0.5rem;
      font-size: 0.875rem;
      color: #999999;
      text-align: center;
      font-style: italic;
    }

    .ar-button {
      margin-top: 1rem;
      width: 100%;
      padding: 0.75rem;
      background: linear-gradient(to right, #ffbc00, #ffaa00);
      color: #000;
      font-weight: bold;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .ar-button:hover {
      background: linear-gradient(to right, #ffd700, #ff9800);
    }

    .text-center {
      text-align: center;
    }

    .title {
      font-size: 1.75rem;
      font-weight: bold;
      margin-top: 1.5rem;
    }

    .description {
      margin-top: 0.75rem;
      font-size: 1rem;
      color: #cccccc;
      line-height: 1.6;
    }

    .error-message {
      color: #ff4d4d;
      font-size: 1.25rem;
      text-align: center;
      margin-top: 4rem;
    }
  </style>
</head>
<body>

  <div class="back-link">
    <a href="index.html">&larr; Back to Menu</a>
  </div>

  <div class="container">
    <div class="card">
      <model-viewer id="modelViewer"
        ar
        ar-modes="scene-viewer webxr quick-look"
        reveal="auto"
        auto-rotate
        camera-controls
        touch-action="pan-y">
      </model-viewer>

      <p id="dimensions" class="dimensions"></p>

      <button id="arButton" class="ar-button" onclick="document.getElementById('modelViewer').activateAR()">
        Open in AR
      </button>

      <div class="text-center">
        <h3 id="title" class="title"></h3>
        <p id="description" class="description"></p>
      </div>
    </div>
  </div>

  <script>
    const models = {
      burger: {
        title: 'Burger',
        src: 'models/burger.glb',
        ios: 'models/burger.usdz',
        desc: 'A delicious classic burger with lettuce, tomato, and cheese.',
        dims: '10cm x 6cm',
        scale: '1 1 1'
      },
      chicken: {
        title: 'Roasted Chicken',
        src: 'models/chicken.glb',
        ios: 'models/chicken.usdz',
        desc: 'Roasted Chicken served with veggies.',
        dims: '15cm x 7cm',
        scale: '0.8 0.8 0.8'
      },
      beef: {
        title: 'Steak & Rice',
        src: 'models/beef.glb',
        ios: 'models/beef.usdz',
        desc: 'Juicy beef cuts served with sauce and sides and rice.',
        dims: '20cm x 10cm',
        scale: '0.7 0.7 0.7'
      },
      fries: {
        title: 'French Fries',
        src: 'models/fries.glb',
        ios: 'models/fries.usdz',
        desc: 'Crispy golden French fries.',
        dims: '12cm x 5cm',
        scale: '1 1 1'
      },
      salad: {
        title: 'Salad',
        src: 'models/salad.glb',
        ios: 'models/salad.usdz',
        desc: 'Fresh salad with lettuce, tomato, and olives.',
        dims: '15cm x 10cm',
        scale: '0.08 0.08 0.08'
      },
      pizza: {
        title: 'Pizza',
        src: 'models/pizza.glb',
        ios: 'models/pizza.usdz',
        desc: 'A cheesy pizza with pepperoni, mushrooms, and fresh herbs.',
        dims: '30cm diameter',
        scale: '0.6 0.6 0.6'
      },
      sushi: {
        title: 'Sushi',
        src: 'models/sushi.glb',
        ios: 'models/sushi.usdz',
        desc: 'Fresh sushi rolls with salmon, avocado, and rice.',
        dims: '15cm x 4cm (each piece)',
        scale: '1.1 1.1 1.1'
      }
    };

    const params = new URLSearchParams(window.location.search);
    const key = params.get('item');
    const modelViewer = document.getElementById('modelViewer');

    if (key && models[key]) {
      const item = models[key];
      modelViewer.setAttribute('src', item.src);
      modelViewer.setAttribute('ios-src', item.ios);
      modelViewer.setAttribute('ar-scale', 'fixed');
      modelViewer.setAttribute('scale', item.scale);

      document.getElementById('title').textContent = item.title;
      document.getElementById('description').textContent = item.desc;
      document.getElementById('dimensions').textContent = `Dimensions: ${item.dims}`;
    } else {
      document.body.innerHTML = '<div class="error-message">Item not found.</div>';
    }
  </script>
</body>
</html>
